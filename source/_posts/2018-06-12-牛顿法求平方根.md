---
title: 牛顿法求平方根
date: 2018-06-12 00:01:15
tags: code
thumbnail: /blog/img/random/p144250_2.jpg
---
> 沉积了几周后突然想发个博文，没啥特别的理由，任性！虽然这个算法非常简单，但是还是有点不一样的，因为要用lisp写的。

## 怎么求一个数的平方根
当提到平方根，我们心里都很清楚这个概念，A的平方如果等于B，那么A就是B的平方根。计算机是怎么计算平方根呢？最常用的就是牛顿的逐步逼近法。这个方法就是，如果对X的平方根的值有一个猜测Y，那么就可以通过执行一个简单的操作去得到一个更好的猜测：只需要求出Y和X/Y的平均值，然后继续这一计算过程，就可以得到对X的平方根越来越接近的近似值。

##  下面就是代码了。

```lisp
(define (abs x)
  (if (< x 0)
       (- x)
       x))
(define (square x) (* x x))
(define (average x y)(/ (+ x y) 2))
(define (improve guess x) (average guess (/ x guess)))
(define (good-enough? guess x)
  (< (abs (- (square guess) x)) 0.001))

(define (sqrt-iter guess x)
  (if (good-enough? guess x)
      guess
      (sqrt-iter (improve guess x) x)))

(define (sqrt x)
  (sqrt-iter 1.0 x))

```

## 总结
lisp真的和之前写过任何一种编程语言都不一样，现在看上去，它还是很神秘，但是也稍微领教到了它的表现力。





