---
title: 一些实用的canvas知识点
date: 2019-04-28 14:16:47
tags:
	-canvas
---

> 最近在看`canvas`的内容，搜集了一些非常实用的`canvas`函数。

### 1.`canvas`容易误解的地方

-  `canvas`的大小要用`width`和`height`属性来控制，用`css`属性控制的是元素本身的大小，而非元素绘图表面的大小，绘图表面的默认大小是300px 乘 150px，如果用`css`重新定义一个大小，会缩放变形。
- 不要用`setTimeoit`和`setInterval`做动画，虽然他们可以实现动画的效果，但是这两个函数不是为了实现动画设计的，不能作为首选，（根据html5标准，浏览器为了节省电力，可以拉长执行代码的间隔时间，比如，Firefox浏览器规定，在单次调用`setTimeout()`的时候，所允许的最小间隔是10ms，就算你给一个2ms的参数，依然会在10ms后调用。）合适的函数是`requesAnimationFrame()`，它根据浏览器的刷新间隔重新绘制动画，因此不卡顿，很流畅。

### 2.实用的函数

​	把鼠标事件的相对浏览器坐标转化为相对canvas的坐标。

```javascript
function windowsToCanvas(canvas,x,y) {
    var bbox = canvas.getBoundingClientRect() // 组用于描述边框的只读属性
    return {x: x- bbox.left * (canvas.width / bbox.width)
            y: y- bbox.right * (canvas.height / bbox.height)
			}
}
```

制作图形经常需要计算角度和弧度。

```javascript
// 角度转换为弧度

```



