---
title: 一周收获2019-08-17
thumbnail: >-
  https://raw.githubusercontent.com/x1nes/imageUrl/master//img/pexels-photo-1239162.jpeg
tags:
  - share
abbrlink: b1c77465
date: 2019-08-17 17:50:20
---



> 2019-08-17 一周收获。

# 网站

## 全历史

> 乾隆十五年，纽交所成立。
>
> 嘉庆十七年，花旗成立。
>
> 光绪十二年，可口可乐成立。
>
> 民国二十六年，麦当劳成立。
>
> 唐伯虎为代表的江南四大才子，和欧洲文艺复兴三杰 达芬奇、米开朗琪罗、拉斐尔几乎是同岁。
>
> 乾隆皇帝于1796年正月将皇位禅让给嘉庆皇帝，华盛顿也在1797年3月两届任期结束后，决定不再连任。

来源知乎：[历史上有哪两件事听起来不在同一个年代实际上却同时发生的？](https://www.zhihu.com/question/333199024)

有趣的话题，我们在学历史的时候，往往是`深度遍历`，学了中国史，再学世界史，因此有时会忽略掉几件历史事件竟然是在同一时期发生的。

这里推荐一个网站--[全历史](https://www.allhistory.com/)

可以展示时间维度的地图，即同一年代下在世界各地发生的事情，还可以看到历史人物之间的关系，做一个横向的参考。

我们可以看到在1764年左右的这个时间点：

一方面在英国，詹姆斯瓦特的蒸汽机取得了突破性进展，而与此同时的远隔万里的大清朝，乾隆二十九年，颐和园的前身清漪园建成，耗资四百八十万两白银，约占当年财政收入的十分之一。

看似是不相干的历史，但却会在一百年后的鸦片战争中决定了两国的命运。

再次联想到此时中美两国在`5G`技术上的争执，不禁让人**细思极恐**。



## [codepen](http://codepen.io/)

`codepen`不仅仅是一个在线的`js`编辑器，也是一个可以用于在线展示和收藏前端项目的网站，可以说是专注于`web`前端的`github`。

站内有各类优秀开发者编写的`demo`,大部分是`css`和`webgl`的作品，看惯了业务性`UI`,来这个网站看下

原来前端可以实现如此炫酷的效果，也是很不错的。:kissing_smiling_eyes:





# 阅读

[Lisp之根源](http://daiyuwen.freeshell.org/gb/rol/roots_of_lisp.html)

> 约翰麦卡锡于1960年发表了一篇非凡的论文,他在这篇论文中对编程的贡献有如 欧几里德对几何的贡献.[1](http://daiyuwen.freeshell.org/gb/rol/roots_of_lisp.html#foot222) 他向我们展示了,在只给定几个简单的操作符和一个 表示函数的记号的基础上, 如何构造出一个完整的编程语言. 麦卡锡称这种语 言为Lisp, 意为List Processing, 因为他的主要思想之一是用一种简单的数据 结构表(list)来代表代码和数据.

本文介绍了`lisp`的起源和基本概念。



[前端面试题汇总](https://github.com/xiaomuzhu/front-end-interview)

> 本项目一开始并没有要做一个仅仅面向面试的项目,而是希望借助面试的形式进一步巩固、完善自身的知识，同时为初学者提供一个参考路径。

一个很好的开源项目，汇总了几乎所有的常见面试题。



# 编程

## 如何自己实现一个简单的`event bus`

`Event bus` 是发布订阅模式的典型应用，在组件事件调用上很常见。

下面是全部代码,只是简单实现，仅供参考。
真正的实现，请查看`Event` 库

https://github.com/Gozala/events/blob/master/events.js


```javaScript

// 发布订阅模式
function EventEmitter(){
    this._events = {}
}
//this._events = {one:[cry],two:[drink]}
EventEmitter.prototype.eventNames = function(){
    return Object.keys(this._events)
}
EventEmitter.prototype.listeners = function(type){
    return this._events[type]
}

EventEmitter.defaultMaxListeners = 10; //默认最大监听数
EventEmitter.prototype.setMaxListeners = function(count){
    this._count = count;
}
EventEmitter.prototype.getMaxListeners = function(){
    return  this._count || EventEmitter.defaultMaxListeners
}

EventEmitter.addListener = EventEmitter.prototype.on = function(type,callback){
    //如果实例不存在则会创建一个空对象
    if(!this._events)  this._events = Object.create(null) //继承会找不到event ,直接实例可以, Cannot read property 'one' of undefined 初始化this._events
    // this._events ={}  和 this._events = Object.create(null) 的区别 前者原型指针指向object链,后者没有任何属性,后者可以避免第三方继承
    //如果当前不是newListenernewListener方法就需要让newListener回调一次执行,传入类
    if(this.newListener && this._events['newListener'] && this._events['newListener'].length>0){
        if(type != 'newListener'){
            this._events['newListener'].forEach(fn => fn(type))
        }
    }
    if(this._events[type]){ // 查看事件名称是否存在
        this._events[type].push(callback)
    }else{
        this._events[type] = [callback] //将事件绑定在对象上
    }
    if(this._events[type].length === this.getMaxListeners()){
        console.warn('memeoy link detected')
    }
}

EventEmitter.prototype.emit = function(type , ...args){
    if(this._events[type]){
        this._events[type].forEach(fn => fn(...args));
    }else{
        this._events = {}
    }
}
//找到数组里的方法对应的移除掉即可
EventEmitter.prototype.removeListener = function(type,callback){
    if (typeof callback !== 'function')  throw new TypeError('"callback" argument must be a function');
    if(this._events[type]){
        this._events[type].splice(this._events[type].indexOf(callback) ,1)
    }
}
EventEmitter.prototype.removeAllListeners = function(type){
    if(this._events[type]){
        return this._events[type] = Obj.create(null)
    }else{

    }
}
EventEmitter.prototype.once = function (type,callback){
    //当emit时warp执行需要继续将参数传递给callback
    let warp = (...args) =>{
        callback(...args);
        this.removeListener(type,warp) //用on绑定的时候,在emit的时候执行wap
    }
    warp.l = callback;//将callback方法挂在到warp属性上
    this.on(type,warp);
}

 module.exports = EventEmitter;

```

# 电影
《站直啰，别趴下》 
导演: 黄建新
编剧: 黄建新
主演: 达式常 / 冯巩 / 傅丽莉 / 刘小蕙 / 张鹭 / 更多...
类型: 喜剧

{% img [class image] https://img3.doubanio.com/view/photo/s_ratio_poster/public/p2376169141.webp [135] [185] "站直啰，别趴下 '站直啰，别趴下'" %}


[豆瓣链接](https://movie.douban.com/subject/1305363/)
热评：政治-文化-经济，开始政治与经济对立，最后经济与政治合作，把文化挤跑了。成功预言中国社会的走向。

很有意思的一部电影，三个邻居映射了政治，经济，文化的对立，台词对白充满生活气息，最后刘局长和张老板走到一起，高作家只能受气连夜收拾东西搬家，不禁让人感叹，社会主义市场经济好啊！

# 技巧

有时候我们提交`git`的时候，会有一些含义相同的`log`,比如修复`bug`,或者加入新的功能，这时候，可以在提交的`log`里加入`emoji`,以表示提交的类型。

`git commit emoji` 使用指南 :beer:
https://github.com/liuchengxu/git-commit-emoji-cn

>执行 `git commit` 时使用 `emoji` 为本次提交打上一个 "标签", 使得此次 commit 的主要工作得以凸现，也能够使得其在整个提交历史中易于区分与查找。



| `emoji`           | `emoji` 代码                 | `commit `说明         |
| ----------------- | ---------------------------- | --------------------- |
| 🎉 (庆祝)          | `:tada:`                     | 初次提交              |
| ✨ (火花)          | `:sparkles:`                 | 引入新功能            |
| 🔖 (书签)          | `:bookmark:`                 | 发行/版本标签         |
| 🐛 (bug)           | `:bug:`                      | 修复 bug              |
| 🚑 (急救车)        | `:ambulance:`                | 重要补丁              |
| 🌐 (地球)          | `:globe_with_meridians:`     | 国际化与本地化        |
| 💄 (口红)          | `:lipstick:`                 | 更新 UI 和样式文件    |
| 🎬 (场记板)        | `:clapper:`                  | 更新演示/示例         |
| 🚨 (警车灯)        | `:rotating_light:`           | 移除 linter 警告      |
| 🔧 (扳手)          | `:wrench:`                   | 修改配置文件          |
| ➕ (加号)          | `:heavy_plus_sign:`          | 增加一个依赖          |
| ➖ (减号)          | `:heavy_minus_sign:`         | 减少一个依赖          |
| ⬆️ (上升箭头)      | `:arrow_up:`                 | 升级依赖              |
| ⬇️ (下降箭头)      | `:arrow_down:`               | 降级依赖              |
| ⚡️ (闪电) 🐎 (赛马) | `:zap:` `:racehorse:`        | 提升性能              |
| 📈 (上升趋势图)    | `:chart_with_upwards_trend:` | 添加分析或跟踪代码    |
| 🚀 (火箭)          | `:rocket:`                   | 部署功能              |
| ✅ (白色复选框)    | `:white_check_mark:`         | 增加测试              |
| 📝 (备忘录)        | `:memo:`                     | 撰写文档              |
| 🔨 (锤子)          | `:hammer:`                   | 重大重构              |
| 🎨 (调色板)        | `:art:`                      | 改进代码结构/代码格式 |
| 🔥 (火焰)          | `:fire:`                     | 移除代码或文件        |
| ✏️ (铅笔)          | `:pencil2:`                  | 修复 typo             |
| 🚧 (施工)          | `:construction:`             | 工作进行中            |
| 👷 (工人)          | `:construction_worker:`      | 添加 CI 构建系统      |
| 💚 (绿心)          | `:green_heart:`              | 修复 CI 构建问题      |
| 🔒 (锁)            | `:lock:`                     | 修复安全问题          |
| 🐳 (鲸鱼)          | `:whale:`                    | Docker 相关工作       |
| 🍎 (苹果)          | `:apple:`                    | 修复 macOS 下的问题   |
| 🐧 (企鹅)          | `:penguin:`                  | 修复 Linux 下的问题   |
| 🏁 (旗帜)          | `:checked_flag:`             | 修复 Windows 下的问题 |

