---
title: 一周收获2019-09-01
date: 2019-09-01 12:28:05
tags:
	- share

---

> 上周是瞎逼忙的一周。。。



#  灵活运用CSS开发技巧(66个实用技巧，值得收藏)

> 最近看到的非常使用的css编码技巧，原来这些特效不用js也可以实现！ 看完你的css技术一定会更上一层台阶。

https://juejin.im/post/5d4d0ec651882549594e7293


# 可以设置过期时间的`localStorage`

```javascript
class storage {

    constructor(props={}) {
        this.source = props.source || window.localStorage
        this.initRun();
    }

    initRun(){
        const reg = new RegExp("__expires__");
        let data = this.source;
        let list = Object.keys(data);
        if(list.length > 0){
            list.map((key,v)=>{
                if( !reg.test(key )){
                    let now = Date.now();
                    let expires = data[`${key}__expires__`]||Date.now+1;
                    if (now >= expires ) {
                        this.remove(key);
                    };
                };
                return key;
            });
        };
    }

	get(key) {
    	const source = this.source,
    	expired = source[`${key}__expires__`]||Date.now+1;
    	const now = Date.now();

    	if ( now >= expired ) {
        	this.remove(key);
        	return;
    	}
    	const value = source[key] ? JSON.parse(source[key]) : source[key];
   	 	return value;
}

	set(key, value, expired) {
    	let source = this.source;
    	source[key] = JSON.stringify(value);
    	if (expired){
        	source[`${key}__expires__`] = Date.now() + 1000*60*expired
    	};
    	return value;
}

	remove(key) {
    	const data = this.source,
        value = data[key]; 
    	delete data[key];
    	delete data[`${key}__expires__`];
    	return value;
}
}

```

